{
  "permissions": {
    "allow": [
      "Edit",
      "Write",
      "Bash(powershell.exe -ExecutionPolicy Bypass -File *auto-deploy*)",
      "Bash(powershell.exe:*)",
      "Bash(powershell:*)",
      "Bash(php:*)",
      "Bash(php.exe:*)",
      "Bash(C:xamppphpphp.exe:*)",
      "Bash(\"C:/xampp/php/php.exe\":*)",
      "Bash(C:\\\\xampp\\\\php\\\\php.exe:*)",
      "Bash(/c/xampp/php/php.exe:*)",
      "Bash(lib/php.exe:*)",
      "Bash(./lib/php.exe:*)",
      "Bash(\"C:\\\\Claude\\\\master\\\\php.exe\":*)",
      "Bash(./php.exe:*)",
      "Bash(git:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git pull:*)",
      "Bash(git fetch:*)",
      "Bash(git checkout:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)",
      "Bash(git mv:*)",
      "Bash(git remote:*)",
      "Bash(git init:*)",
      "Bash(git ls-tree:*)",
      "Bash(git -C:*)",
      "Bash(ls:*)",
      "Bash(dir:*)",
      "Bash(curl:*)",
      "Bash(bash:*)",
      "Bash(test:*)",
      "Bash(where:*)",
      "Bash(where.exe:*)",
      "Bash(findstr:*)",
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(echo:*)",
      "Bash(wc:*)",
      "Bash(du:*)",
      "Bash(xxd:*)",
      "Bash(basename:*)",
      "Bash(xargs:*)",
      "Bash(timeout:*)",
      "Bash(ping:*)",
      "Bash(netstat:*)",
      "Bash(tasklist:*)",
      "Bash(taskkill:*)",
      "Bash(node:*)",
      "Bash(python:*)",
      "Bash(python3:*)",
      "Bash(npm:*)",
      "Bash(ssh:*)",
      "Bash(ssh-keygen:*)",
      "Bash(chmod:*)",
      "Bash(icacls:*)",
      "Bash(del:*)",
      "Bash(robocopy:*)",
      "Bash(cmd:*)",
      "Bash(cmd.exe:*)",
      "Bash(cmd /c:*)",
      "Bash(cmd //c:*)",
      "Bash(MSYS_NO_PATHCONV=1:*)",
      "Bash(scripts/start-dev-server.bat)",
      "Bash(deploy.bat:*)",
      "Bash(./deploy.bat:*)",
      "Bash(./deploy-to-xserver.sh:*)",
      "Bash(start /b php:*)",
      "Bash(for:*)",
      "Bash(do:*)",
      "Bash(if:*)",
      "Bash(then:*)",
      "Bash(else:*)",
      "Bash(fi)",
      "Bash(done)",
      "Bash(while:*)",
      "WebFetch(domain:docs.google.com)",
      "WebFetch(domain:doc-0s-bs-slides.googleusercontent.com)",
      "WebFetch(domain:yamato-mgt.com)",
      "WebFetch(domain:baigie.me)",
      "WebFetch(domain:biz.moneyforward.com)",
      "WebFetch(domain:invoice.moneyforward.com)",
      "Bash(\"C:/xampp/php/php.exe\" -r \"$d = json_decode\\(file_get_contents\\(''C:/Claude/master/data.json''\\), true\\); foreach\\($d[''employees''] as $i => $e\\) { echo $i . '': '' . \\($e[''name''] ?? ''''\\) . '' \\(id:'' . \\($e[''id''] ?? ''''\\) . '', code:'' . \\($e[''code''] ?? ''''\\) . ''\\)'' . PHP_EOL; }\")",
      "Bash(\"C:/xampp/php/php.exe\" C:/Claude/master/tmp/list_employees.php)",
      "Bash(\"C:/xampp/php/php.exe\" -c \"C:/Claude/master/lib/php.ini\" C:/Claude/master/tmp/list_employees2.php)",
      "Bash(\"C:/xampp/php/php.exe\" C:/Claude/master/tmp/list_prod_employees.php)",
      "Bash(\"C:/xampp/php/php.exe\" C:/Claude/master/tmp/reorder_employees.php)",
      "Bash(C:/xampp/php/php.exe -l C:/Claude/master/pages/finance.php)",
      "Bash(C:/xampp/php/php.exe:*)",
      "Bash(Get-ChildItem \"C:\\\\Claude\\\\master\\\\api\\\\*.php\" -Name)",
      "Bash(Sort-Object)",
      "Bash(# Search for references to each API file across the project \\(excluding vendor/\\) for f in ai-generate.php alcohol-chat-sync.php async-chat-space.php auth.php background-job.php bulk-edit.php calendar-events.php calendar-settings.php chat-members-api.php clear-mf-invoices.php dashboard-settings.php debug-log-viewer.php debug-partners.php digima-api.php drive-api.php employee-chat-member.php export.php export-invoices.php; do echo \"\"=== api/$f ===\"\" grep -r --include=\"\"*.php\"\" --include=\"\"*.js\"\" --include=\"\"*.html\"\" --include=\"\"*.json\"\" -l \"\"$f\"\" \"\"C:/Claude/master/\"\")",
      "Bash(# Search for references to each API file \\(batch 2\\) for f in google-calendar.php google-calendar-callback.php google-callback.php google-chat.php google-chat-callback.php google-drive.php google-drive-callback.php google-oauth.php google-sheets.php invoice-pdf.php loans-api.php loans-color.php mf-api.php normalize-pj-numbers.php notifications.php pdf-processor.php photo-attendance-api.php reset-customers.php spreadsheet-projects.php sync-customers.php sync-invoices.php sync-partners.php sync-troubles.php tasks-api.php test-mail.php undo.php; do echo \"\"=== api/$f ===\"\" grep -r --include=\"\"*.php\"\" --include=\"\"*.js\"\" --include=\"\"*.html\"\" --include=\"\"*.json\"\" -l \"\"$f\"\" \"\"C:/Claude/master/\"\")",
      "Bash(# Deep-check suspected orphan API files - search for partial references too # Excluding backup_20260129, public_html, vendor, .claude/settings for f in ai-generate bulk-edit chat-members-api dashboard-settings debug-log-viewer debug-partners export export-invoices invoice-pdf reset-customers sync-customers test-mail undo google-drive-callback digima-api; do echo \"\"=== $f ===\"\" grep -r --include=\"\"*.php\"\" --include=\"\"*.js\"\" --include=\"\"*.html\"\" -l \"\"$f\"\" \"\"C:/Claude/master/\"\")",
      "Bash(# Check exact references for export.php \\(not export-invoices.php\\) grep -r --include=\"\"*.php\"\" --include=\"\"*.js\"\" \"\"export\\\\.php\"\" \"\"C:/Claude/master/\"\")",
      "Bash(# Check for ''export.php'' references grep -r --include=\"\"*.php\"\" --include=\"\"*.js\"\" \"\"export\\\\.php\"\" \"\"C:/Claude/master/\"\")",
      "Bash(# Check loans.json.bak reference grep -r \"\"loans.json.bak\"\" C:/Claude/master/)",
      "Bash(# Check references with different approach grep -rl \"\"export\\\\.php\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# profit-loss data directory - check if any page/function still uses it # The pages/profit-loss.php and functions/profit-loss-functions.php appear deleted in git status grep -r --include=\"\"*.php\"\" --include=\"\"*.js\"\" \"\"profit.loss\"\" C:/Claude/master/)",
      "Bash(# Check for ''undo'' specific references grep -r \"\"undo\"\" \"\"C:/Claude/master/functions/login-security.php\"\")",
      "Bash(# Check everywhere for dashboard-settings.php reference \\(the API endpoint\\) grep -r \"\"dashboard-settings\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check if phpstan is actually used grep -r \"\"phpstan\"\" C:/Claude/master/)",
      "Bash(# Verify color-samples.php references grep -rn \"\"color-samples\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check pages that might only have permission-definition references \\(not actual links/navigation\\) for f in audit-log.php color-samples.php download-troubles-csv.php integration-settings.php mf-debug.php mf-monthly.php mf-sync-settings.php payroll-journal.php sessions.php; do echo \"\"=== pages/$f ===\"\" grep -rn \"\"$f\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check mf-api-debug.json references grep -r \"\"mf-api-debug\"\" C:/Claude/master/)",
      "Bash(# Check if mf-debug.php has actual links to it \\(not just active state check in sidebar\\) grep -rn \"\"mf-debug\\\\.php\"\" \"\"C:/Claude/master/pages/\"\")",
      "Bash(# Check auto-deploy.ps1 references grep -r --include=\"\"*.php\"\" --include=\"\"*.md\"\" --include=\"\"*.bat\"\" \"\"auto-deploy\"\" C:/Claude/master/)",
      "Bash(head -10 echo \"===\" grep -n \"mf.debug\\\\|mf_debug\\\\|mfDebug\\\\|デバッグ\" \"C:/Claude/master/pages/mf-settings.php\")",
      "Bash(# Settings.php likely has a settings sub-page array, check for mf-debug grep -n \"\"mf\"\" \"\"C:/Claude/master/pages/settings.php\"\")",
      "Bash(# Check for references to newsletter-functions.php grep -r \"\"newsletter\"\" C:/Claude/master/)",
      "Bash(# Check forms for references for f in create-invoice.php edit.php index.php trouble-bulk-form.php trouble-delete.php trouble-form.php; do echo \"\"=== forms/$f ===\"\" grep -rn \"\"$f\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check edit.php more carefully - it''s a generic name so we need to check for exact form references grep -rn \"\"forms/edit\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check if forms/edit.php is referenced via href or action grep -rn \"\"edit\\\\.php\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check journal-entries.json - it was only referenced in restore-data.ps1 grep -r --include=\"\"*.php\"\" \"\"journal.entries\\\\|journal-entries\"\" C:/Claude/master/)",
      "Bash(# Check chat-members-api.php - is it loaded by any page? grep -r --include=\"\"*.php\"\" --include=\"\"*.js\"\" \"\"chat-members\"\" C:/Claude/master/)",
      "Bash(# Check if forms/index.php is actually linked or just catches redirects grep -rn \"\"forms/index\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check for \"\"edit.php\"\" linked from master.php \\(common for trouble editing\\) grep -n \"\"edit\\\\.php\"\" \"\"C:/Claude/master/pages/master.php\"\")",
      "Bash(# Check if chat-members-api.php is called from any page or JS grep -r \"\"chat-members-api\"\" C:/Claude/master/)",
      "Bash(# Check scripts for references \\(scripts are typically run from CLI, but check anyway\\) for f in backup-data.php check-branches.php clear-synced-projects.php cron-alcohol-sync.php fix-invoice-dates.php import-customers-from-invoices.php migrate-departments-to-branches.php migrate-loans-data.php; do echo \"\"=== scripts/$f ===\"\" grep -rn \"\"$f\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\" --include=\"\"*.bat\"\" --include=\"\"*.ps1\"\" --include=\"\"*.md\"\" --include=\"\"*.json\"\")",
      "Bash(# Check how dashboard-settings API is invoked grep -r \"\"dashboard-settings.php\\\\|dashboard_settings\"\" C:/Claude/master/)",
      "Bash(# Check error-handler.php references more broadly grep -rn \"\"error-handler\\\\|error_handler\\\\|errorHandler\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check integration API files for references for f in api-auth.php customers.php health.php loans.php projects.php; do echo \"\"=== api/integration/$f ===\"\" grep -rn \"\"$f\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\" --include=\"\"*.md\"\")",
      "Bash(# Check if pages/color-samples.php is referenced grep -r \"\"color-samples\\\\|color.samples\"\" C:/Claude/master/)",
      "Bash(# Check if normalize-pj-numbers.php, reset-customers.php are referenced for f in normalize-pj-numbers.php reset-customers.php; do echo \"\"=== api/$f ===\"\" grep -r \"\"$f\"\" C:/Claude/master/)",
      "Bash(# Check all inline JS in pages for suspected orphan API references for f in ai-generate bulk-edit chat-members-api dashboard-settings debug-log-viewer debug-partners export-invoices invoice-pdf reset-customers sync-customers test-mail undo digima-api; do echo \"\"=== $f ===\"\" grep -rn \"\"$f\"\" \"\"C:/Claude/master/pages/\"\" \"\"C:/Claude/master/forms/\"\" \"\"C:/Claude/master/js/\"\" \"\"C:/Claude/master/functions/\"\" \"\"C:/Claude/master/index.php\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Let me also check for the ''export'' API endpoint specifically \\(not the generic word\\) grep -rn \"\"api/export\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check if install-mbstring.ps1 is referenced anywhere grep -r \"\"install-mbstring\"\" C:/Claude/master/)",
      "Bash(# Also check for /export.php? or export.php in inline fetch/ajax calls grep -rn \"\"\\\\/export\\\\.php\\\\|''export\\\\.php\\\\|\\\\\"\"export\\\\.php\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check undo.php references specifically \\(the API endpoint, not the function\\) grep -rn \"\"undo\\\\.php\\\\|api/undo\\\\|\\\\/undo\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check if start-dev-livereload.bat is relevant \\(live-reload.js was deleted\\) cat C:/Claude/master/scripts/start-dev-livereload.bat)",
      "Bash(# Check bulk-edit.php - it''s referenced in CLAUDE.md for documentation but is it actually called from UI? grep -rn \"\"bulk-edit\\\\.php\\\\|api/bulk-edit\\\\|\\\\/bulk-edit\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Search more broadly for bulk-edit in all relevant files grep -rn \"\"bulk.edit\"\" \"\"C:/Claude/master/pages/\"\" \"\"C:/Claude/master/forms/\"\" \"\"C:/Claude/master/js/\"\" \"\"C:/Claude/master/functions/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check for chat-members-api reference more broadly grep -rn \"\"chat.members\"\" \"\"C:/Claude/master/pages/\"\" \"\"C:/Claude/master/js/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check for export-invoices.php \\(not the same as download-invoices-csv.php\\) grep -rn \"\"export-invoices\\\\|exportInvoices\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check how user authentication works - maybe users.json is loaded indirectly grep -rn \"\"config/users\\\\|users\\\\.json\"\" C:/Claude/master/api/ C:/Claude/master/config/ C:/Claude/master/functions/ C:/Claude/master/pages/)",
      "Bash(# Check test-mail - might be accessed directly for testing grep -rn \"\"test.mail\\\\|testMail\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Verify google-drive-callback.php - it''s an OAuth callback, referenced in google config grep -rn \"\"google-drive-callback\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\" --include=\"\"*.json\"\")",
      "Bash(# Check google-drive-callback in the google-drive.php or google-oauth.php files \\(it''s used as a redirect URI\\) grep -n \"\"drive-callback\\\\|drive_callback\"\" \"\"C:/Claude/master/api/google-drive.php\"\" echo \"\"===\"\" grep -n \"\"drive-callback\\\\|drive_callback\"\" \"\"C:/Claude/master/api/google-oauth.php\"\" echo \"\"===\"\" # Check if the callback URL is configured in json grep -rn \"\"drive-callback\\\\|drive_callback\"\" \"\"C:/Claude/master/config/\"\")",
      "Bash(# Check if composer.phar is used or can be replaced by composer command ls C:/Claude/master/composer.phar 2>&1 grep -r \"\"composer.phar\"\" C:/Claude/master/)",
      "Bash(# Check what google-drive-callback references more broadly grep -rn \"\"drive.*callback\"\" \"\"C:/Claude/master/api/\"\" --include=\"\"*.php\"\")",
      "Bash(# Check pages/loans.php for how drive auth is initiated \\(likely has a redirect to google-drive-callback\\) grep -n \"\"drive.*callback\\\\|google-drive-callback\"\" \"\"C:/Claude/master/pages/loans.php\"\")",
      "Bash(# Check newsletter function usage - is digima-api the only consumer? grep -r \"\"digima\"\" C:/Claude/master/)",
      "Bash(# Check if google-drive-callback is set as redirect_uri anywhere \\(possibly computed at runtime\\) grep -rn \"\"drive.*callback\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.json\"\")",
      "Bash(# Check if digima-api.php is loaded anywhere grep -rn \"\"digima\"\" C:/Claude/master/)",
      "Bash(# The profit-loss pages and functions were deleted in git status # Check if any remaining code references the data/profit-loss directory grep -r \"\"profit.loss\\\\|profit_loss\"\" C:/Claude/master/)",
      "Bash(# Check loans.php for Drive OAuth initiation grep -n \"\"drive.*auth\\\\|oauth.*drive\\\\|google.*drive.*connect\\\\|connectDrive\\\\|authorize.*drive\"\" \"\"C:/Claude/master/pages/loans.php\"\")",
      "Bash(# Check the redirect_uri used in loans.php for the drive auth URL grep -n \"\"redirect_uri\\\\|callback\"\" \"\"C:/Claude/master/pages/loans.php\"\")",
      "Bash(# Check newsletter-functions.php: is it actually loaded/used by any page/API? grep -r \"\"newsletter-functions\\\\|newsletter_functions\"\" C:/Claude/master/)",
      "Bash(# Check google-callback.php for how it handles drive_connect state grep -n \"\"drive_connect\\\\|drive.*callback\\\\|google-drive-callback\"\" \"\"C:/Claude/master/api/google-callback.php\"\")",
      "Bash(# Verify: digima-api.php is not called by any page or JS grep -rn \"\"digima-api\\\\|digima_api\"\" C:/Claude/master/pages/ C:/Claude/master/js/ C:/Claude/master/forms/ C:/Claude/master/functions/)",
      "Bash(# Check if digima-api.php is called from any page grep -rn \"\"digima\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Verify clear-mf-invoices.php is actually used from finance.php grep -n \"\"clear-mf-invoices\"\" \"\"C:/Claude/master/pages/finance.php\"\")",
      "Bash(# Check if APP_DEBUG is used beyond config.php definition grep -r \"\"APP_DEBUG\"\" C:/Claude/master/)",
      "Bash(# Verify background-job.php is actually used grep -rn \"\"background-job\\\\|background.job\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check if the defined constant APP_DEBUG is actually used grep -rn \"\"APP_DEBUG\"\" C:/Claude/master/)",
      "Bash(# Final check: is color-samples.php linked from anywhere in the UI? grep -rn \"\"color.samples\\\\|color-samples\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Is mf-debug.php linked from mf-settings.php or anywhere? grep -rn \"\"mf.debug\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check for unused API endpoints for f in reset-customers.php debug-log-viewer.php debug-partners.php test-mail.php; do echo \"\"=== api/$f ===\"\" grep -rn \"\"$f\"\" C:/Claude/master/)",
      "Bash(# Check if forms/edit.php is in auth.php permissions grep -n \"\"edit\\\\.php\"\" \"\"C:/Claude/master/api/auth.php\"\")",
      "Bash(# Check if check-branches.php, clear-synced-projects.php etc are referenced for f in check-branches.php clear-synced-projects.php fix-invoice-dates.php import-customers-from-invoices.php migrate-departments-to-branches.php migrate-loans-data.php; do echo \"\"=== scripts/$f ===\"\" grep -rn \"\"$f\"\" C:/Claude/master/)",
      "Bash(# Check integration/health.php for references from PHP/JS \\(not just docs\\) grep -rn \"\"integration/health\\\\|health\\\\.php\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check integration/customers.php and projects.php for internal references grep -rn \"\"integration/customers\\\\|integration/projects\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Confirm newsletter-functions.php is only used by digima-api.php \\(which is itself orphaned\\) grep -rn \"\"newsletter\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check mf-callback.php is actually reachable grep -rn \"\"mf-callback\\\\|mf.callback\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check mf-sync-settings.php navigation grep -rn \"\"mf-sync-settings\\\\|mf.sync.settings\"\" \"\"C:/Claude/master/\"\" --include=\"\"*.php\"\" --include=\"\"*.js\"\")",
      "Bash(# Check mf-settings.php for a link to mf-sync-settings grep -n \"\"sync\"\" \"\"C:/Claude/master/pages/mf-settings.php\"\")",
      "Bash(# Check finance.php for sync-settings link grep -n \"\"sync.settings\\\\|mf-sync\"\" \"\"C:/Claude/master/pages/finance.php\"\")",
      "Bash(# Check if google-drive-callback URL is configured in any Google console config files grep -rn \"\"google-drive-callback\"\" \"\"C:/Claude/master/config/\"\")",
      "Bash(copy:*)",
      "Bash(start /B cmd /c \"C:\\\\xampp\\\\php\\\\php.exe -c lib/php.ini -S localhost:8000 > server.log 2>&1\")",
      "Bash(wmic process:*)",
      "Bash(start /B \"\" \"C:\\\\xampp\\\\php\\\\php.exe\" -c lib/php.ini -S localhost:8000)",
      "Bash(sort:*)"
    ]
  }
}
